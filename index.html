<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Hw4-andrea-arismendy : ">
    <script type="text/javascript" src="javascripts/d3.js"></script>

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Hw4-andrea-arismendy</title>
  </head>

  <body>

  <script type="text/javascript">
    var margin={top:35,left:15,bottom:35,right:15};
    var width=1000-margin.left-margin.right;
    var height= 600-margin.top-margin.bottom;
    var color = d3.scale.category20c();
    console.log(width);
    console.log(height);
    
    var treemap = d3.layout.treemap()
    .size([width, height])
    .sticky(true)
    .value(function(d) { return d.profit; console.log(d.profit);});
    
    var division=d3.select("body").append("div")
    .style("position", "relative")
    .style("width", (width + margin.left + margin.right) + "px")
    .style("height", (height + margin.top + margin.bottom) + "px")
    .style("left", margin.left + "px")
    .style("top", margin.top + "px");
    
    d3.csv("coffee.csv",function(data){
      var node = division.datum(data).selectAll(".node")
      .data(treemap.nodes)
      .enter().append("div")
      .attr("class", "node")
      .call(position)
      .style("background", function(d) { return d.region ? color(d.state) : null; })
      .text(function(d) { return d.region ? null : d.state; });
     

    });
    
    function position() {
  this.style("left", function(d) { return d.x + "px"; })
      .style("top", function(d) { return d.y + "px"; })
      .style("width", function(d) { return Math.max(0, d.dx - 1) + "px"; })
      .style("height", function(d) { return Math.max(0, d.dy - 1) + "px"; });
}

  </script>
    

  </body>
</html>
